execute as @a if items entity @s weapon.mainhand minecraft:cake[!minecraft:use_remainder] unless items entity @s weapon.mainhand minecraft:cake[minecraft:item_model="cakes_can_be_eaten_directly:cake_1"] run item modify entity @s weapon.mainhand cakes_can_be_eaten_directly:cake
execute as @a if items entity @s weapon.offhand minecraft:cake[!minecraft:use_remainder] unless items entity @s weapon.offhand minecraft:cake[minecraft:item_model="cakes_can_be_eaten_directly:cake_1"] run item modify entity @s weapon.offhand cakes_can_be_eaten_directly:cake
execute as @e[type=item] if items entity @s container.0 minecraft:cake[!minecraft:use_remainder] unless items entity @s container.0 minecraft:cake[minecraft:item_model="cakes_can_be_eaten_directly:cake_1"] run item modify entity @s container.0 cakes_can_be_eaten_directly:cake
execute as @e[type=item] if items entity @s container.0 minecraft:cake[minecraft:custom_data={type:"loot"}] at @s if block ~ ~ ~ cake[bites=1] run kill @s
execute as @e[type=item] if items entity @s container.0 minecraft:cake[minecraft:custom_data={type:"loot"}] at @s unless block ~ ~ ~ cake[bites=1] run item modify entity @s container.0 {function:"set_components",components:{"!custom_data":{}}}