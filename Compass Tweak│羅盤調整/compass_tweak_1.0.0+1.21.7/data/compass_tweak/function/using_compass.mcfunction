advancement revoke @s only compass_tweak:using_compass

execute if items entity @s weapon.mainhand compass if data entity @s SelectedItem.components."minecraft:lodestone_tracker" run title @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{}}}}] actionbar {"translate":"compass_tweak.actionbar.err",color:"red"}
execute unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass if data entity @s equipment.offhand.components."minecraft:lodestone_tracker" run title @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{}}}}}] actionbar {"translate":"compass_tweak.actionbar.err",color:"red"}

execute if items entity @s weapon.mainhand compass if data entity @s SelectedItem.components."minecraft:lodestone_tracker" run title @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:overworld"}}}}}] actionbar [{translate:"compass_tweak.actionbar.pos"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[0]",color:"red"},{text:", ",color:"red"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[1]",color:"green"},{text:", ",color:"green"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[2]",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},{translate:"flat_world_preset.minecraft.overworld"}]
execute if items entity @s weapon.mainhand compass if data entity @s SelectedItem.components."minecraft:lodestone_tracker" run title @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:the_nether"}}}}}] actionbar [{translate:"compass_tweak.actionbar.pos"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[0]",color:"red"},{text:", ",color:"red"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[1]",color:"green"},{text:", ",color:"green"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[2]",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},{translate:"dimension.the_nether"}]
execute if items entity @s weapon.mainhand compass if data entity @s SelectedItem.components."minecraft:lodestone_tracker" run title @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:the_end"}}}}}] actionbar [{translate:"compass_tweak.actionbar.pos"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[0]",color:"red"},{text:", ",color:"red"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[1]",color:"green"},{text:", ",color:"green"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[2]",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},{translate:"biome.minecraft.the_end"}]
execute if items entity @s weapon.mainhand compass if data entity @s SelectedItem.components."minecraft:lodestone_tracker" unless entity @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:overworld"}}}}}] unless entity @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:the_nether"}}}}}] unless entity @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:the_end"}}}}}] unless entity @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{}}}}] run title @s actionbar [{translate:"compass_tweak.actionbar.pos"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[0]",color:"red"},{text:", ",color:"red"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[1]",color:"green"},{text:", ",color:"green"},{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.pos[2]",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},'"',{entity:"@s",nbt:"SelectedItem.components.\"minecraft:lodestone_tracker\".target.dimension"},'"']

execute unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass if data entity @s equipment.offhand.components."minecraft:lodestone_tracker" run title @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:overworld"}}}}}}] actionbar [{translate:"compass_tweak.actionbar.pos"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[0]",color:"red"},{text:", ",color:"red"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[1]",color:"green"},{text:", ",color:"green"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[2]",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},{translate:"flat_world_preset.minecraft.overworld"}]
execute unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass if data entity @s equipment.offhand.components."minecraft:lodestone_tracker" run title @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:the_nether"}}}}}}] actionbar [{translate:"compass_tweak.actionbar.pos"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[0]",color:"red"},{text:", ",color:"red"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[1]",color:"green"},{text:", ",color:"green"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[2]",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},{translate:"dimension.the_nether"}]
execute unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass if data entity @s equipment.offhand.components."minecraft:lodestone_tracker" run title @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:the_end"}}}}}}] actionbar [{translate:"compass_tweak.actionbar.pos"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[0]",color:"red"},{text:", ",color:"red"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[1]",color:"green"},{text:", ",color:"green"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[2]",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},{translate:"biome.minecraft.the_end"}]
execute unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass if data entity @s equipment.offhand.components."minecraft:lodestone_tracker" unless entity @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:overworld"}}}}}}] unless entity @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:the_nether"}}}}}}] unless entity @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{target:{dimension:"minecraft:the_end"}}}}}}] unless entity @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{}}}}}] run title @s actionbar [{translate:"compass_tweak.actionbar.pos"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[0]",color:"red"},{text:", ",color:"red"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[1]",color:"green"},{text:", ",color:"green"},{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.pos[2]",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},'"',{entity:"@s",nbt:"equipment.offhand.components.\"minecraft:lodestone_tracker\".target.dimension"},'"']

execute if items entity @s weapon.mainhand compass unless data entity @s SelectedItem.components."minecraft:lodestone_tracker" run title @s actionbar [{translate:"compass_tweak.actionbar.pos"},{storage:"compass_tweak:storage",nbt:"world_spawn.x",color:"red"},{text:", ",color:"red"},{storage:"compass_tweak:storage",nbt:"world_spawn.y",color:"green"},{text:", ",color:"green"},{storage:"compass_tweak:storage",nbt:"world_spawn.z",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},{translate:"flat_world_preset.minecraft.overworld"}]
execute unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass unless data entity @s equipment.offhand.components."minecraft:lodestone_tracker" run title @s actionbar [{translate:"compass_tweak.actionbar.pos"},{storage:"compass_tweak:storage",nbt:"world_spawn.x",color:"red"},{text:", ",color:"red"},{storage:"compass_tweak:storage",nbt:"world_spawn.y",color:"green"},{text:", ",color:"green"},{storage:"compass_tweak:storage",nbt:"world_spawn.z",color:"blue"}," | ",{translate:"compass_tweak.actionbar.dimension"},{translate:"flat_world_preset.minecraft.overworld"}]

execute if predicate {condition:"entity_properties",entity:"this",predicate:{flags:{is_sneaking:true}}} if items entity @s weapon.mainhand compass if data entity @s SelectedItem.components."minecraft:lodestone_tracker" if entity @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{}}}}] run title @s actionbar ""
execute if predicate {condition:"entity_properties",entity:"this",predicate:{flags:{is_sneaking:true}}} if items entity @s weapon.mainhand compass if data entity @s SelectedItem.components."minecraft:lodestone_tracker" if entity @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{}}}}] run playsound entity.experience_orb.pickup player @s ~ ~ ~
execute if predicate {condition:"entity_properties",entity:"this",predicate:{flags:{is_sneaking:true}}} if items entity @s weapon.mainhand compass if data entity @s SelectedItem.components."minecraft:lodestone_tracker" if entity @s[nbt={SelectedItem:{components:{"minecraft:lodestone_tracker":{}}}}] run item modify entity @s weapon.mainhand {function:"set_components",components:{"!lodestone_tracker":{}}}

execute if predicate {condition:"entity_properties",entity:"this",predicate:{flags:{is_sneaking:true}}} unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass if data entity @s equipment.offhand.components."minecraft:lodestone_tracker" if entity @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{}}}}}] run title @s actionbar ""
execute if predicate {condition:"entity_properties",entity:"this",predicate:{flags:{is_sneaking:true}}} unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass if data entity @s equipment.offhand.components."minecraft:lodestone_tracker" if entity @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{}}}}}] run playsound entity.experience_orb.pickup player @s ~ ~ ~
execute if predicate {condition:"entity_properties",entity:"this",predicate:{flags:{is_sneaking:true}}} unless items entity @s weapon.mainhand compass if items entity @s weapon.offhand compass if data entity @s equipment.offhand.components."minecraft:lodestone_tracker" if entity @s[nbt={equipment:{offhand:{components:{"minecraft:lodestone_tracker":{}}}}}] run item modify entity @s weapon.offhand {function:"set_components",components:{"!lodestone_tracker":{}}}