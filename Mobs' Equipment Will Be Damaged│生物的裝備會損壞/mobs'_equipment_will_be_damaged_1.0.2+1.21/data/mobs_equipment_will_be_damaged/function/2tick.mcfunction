execute as @e[type=#mobs_equipment_will_be_damaged:humanoid] unless items entity @s weapon.mainhand air unless predicate {condition:"entity_properties",entity:"this",predicate:{equipment:{mainhand:{predicates:{"minecraft:enchantments":[{enchantments:"mobs_equipment_will_be_damaged:weapon_damage"}]}}}}} unless predicate {condition:"entity_properties",entity:"this",predicate:{equipment:{mainhand:{components:{weapon:{item_damage_per_attack:0}}}}}} run function mobs_equipment_will_be_damaged:weapon_damage
execute as @e[type=#mobs_equipment_will_be_damaged:humanoid] if items entity @s weapon.mainhand bow unless predicate {condition:"entity_properties",entity:"this",predicate:{equipment:{mainhand:{predicates:{"minecraft:enchantments":[{enchantments:"mobs_equipment_will_be_damaged:bow_damage"}]}}}}} run function mobs_equipment_will_be_damaged:bow_damage
execute as @e[type=#mobs_equipment_will_be_damaged:humanoid] if items entity @s weapon.mainhand trident unless predicate {condition:"entity_properties",entity:"this",predicate:{equipment:{mainhand:{predicates:{"minecraft:enchantments":[{enchantments:"mobs_equipment_will_be_damaged:trident_damage"}]}}}}} run function mobs_equipment_will_be_damaged:trident_damage
schedule function mobs_equipment_will_be_damaged:2tick 4t