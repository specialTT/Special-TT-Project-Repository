execute as @e[type=#mobs_equipment_will_be_damaged:humanoid] if items entity @s weapon.mainhand *[minecraft:weapon={}] unless predicate {condition:"entity_properties",entity:"this",predicate:{equipment:{mainhand:{predicates:{"minecraft:enchantments":[{enchantments:"mobs_equipment_will_be_damaged:weapon_damage"}]}}}}} unless items entity @s weapon.mainhand *[minecraft:weapon={item_damage_per_attack:0}] run function mobs_equipment_will_be_damaged:weapon_damage
execute as @e[type=#mobs_equipment_will_be_damaged:humanoid] if data entity @s equipment.mainhand.components."minecraft:weapon" unless predicate {condition:"entity_properties",entity:"this",predicate:{equipment:{mainhand:{predicates:{"minecraft:enchantments":[{enchantments:"mobs_equipment_will_be_damaged:weapon_damage"}]}}}}} unless items entity @s weapon.mainhand *[minecraft:weapon={item_damage_per_attack:0}] run function mobs_equipment_will_be_damaged:weapon_damage
execute as @e[type=#mobs_equipment_will_be_damaged:humanoid] if items entity @s weapon.mainhand bow unless predicate {condition:"entity_properties",entity:"this",predicate:{equipment:{mainhand:{predicates:{"minecraft:enchantments":[{enchantments:"mobs_equipment_will_be_damaged:bow_damage"}]}}}}} run function mobs_equipment_will_be_damaged:bow_damage
execute as @e[type=#mobs_equipment_will_be_damaged:humanoid] if items entity @s weapon.mainhand trident unless predicate {condition:"entity_properties",entity:"this",predicate:{equipment:{mainhand:{predicates:{"minecraft:enchantments":[{enchantments:"mobs_equipment_will_be_damaged:trident_damage"}]}}}}} run function mobs_equipment_will_be_damaged:trident_damage
execute as @e[type=item] if predicate {condition:"entity_properties",entity:"this",predicate:{slots:{container.0:{predicates:{"minecraft:enchantments":[{enchantments:["mobs_equipment_will_be_damaged:weapon_damage","mobs_equipment_will_be_damaged:bow_damage","mobs_equipment_will_be_damaged:trident_damage"]}]}}}}} run item modify entity @s container.0 {function:"set_components",components:{"!minecraft:enchantment_glint_override":{}}}
execute as @e[type=item] run item modify entity @s container.0 {function:"set_enchantments",enchantments:{"mobs_equipment_will_be_damaged:weapon_damage":0}}
execute as @e[type=item] run item modify entity @s container.0 {function:"set_enchantments",enchantments:{"mobs_equipment_will_be_damaged:bow_damage":0}}
execute as @e[type=item] run item modify entity @s container.0 {function:"set_enchantments",enchantments:{"mobs_equipment_will_be_damaged:trident_damage":0}}